function whichTransitionEvent(){var e,a=document.createElement("fakeelement"),s={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in s)if(void 0!==a.style[e])return s[e]}function scrollPage(){myScroll=$(document).scrollTop(),myScroll>40?TweenMax.set($("body"),{className:"+=header-on"}):TweenMax.set($("body"),{className:"-=header-on"}),requestAnimFrame(scrollPage)}function animatePrevCitation(e,a){var s=$("ul > li.active",a),n=$("ul > li",a).eq(e-1);TweenMax.set(n,{x:"-100%"}),TweenMax.to(s,.5,{x:"100%",ease:Cubic.easeInOut}),TweenMax.to(n,.5,{x:"0%",ease:Cubic.easeInOut,onComplete:completeClickService,onCompleteParams:[s,n]})}function animateNextCitation(e,a){var s=$("ul > li.active",a),n=$("ul > li",a).eq(e-1);TweenMax.set(n,{x:"100%"}),TweenMax.to(s,.5,{x:"-100%",ease:Cubic.easeInOut}),TweenMax.to(n,.5,{x:"0%",ease:Cubic.easeInOut,onComplete:completeClickService,onCompleteParams:[s,n]})}function completeClickService(e,a){TweenMax.set(e,{className:"-=active"}),TweenMax.set(a,{className:"+=active"})}function changeCar(){if($(".wrapper-choose").hasClass("survol-left")||$(".wrapper-choose").hasClass("survol-out-left")||$(".wrapper-choose").hasClass("survol-right")||$(".wrapper-choose").hasClass("survol-out-right"))setTimeout(changeCar,tpsChangeCar);else{var e=$(".car-choose").length,a=$(".car-choose.is-active"),s=a.index();if(e-1>s)var n=a.next(".car-choose");else var n=$(".car-choose").first();var o=new TimelineMax({onComplete:changeCarComplete});o.to(a,.3,{opacity:"0",ease:Cubic.easeInOut}),o.to(n,.3,{opacity:"1",ease:Cubic.easeInOut},0),o.set(a,{className:"-=is-active"}),o.set(n,{className:"+=is-active"})}}function changeCarComplete(){setTimeout(changeCar,tpsChangeCar)}var nbCurrentSlideTemoignage=1,tpsChangeCar=8e3;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),$(function(){scrollPage();var e=whichTransitionEvent();if($("body").hasClass("has-choose"))for(var a=1,s=1;s<$(".car-choose").length;s++)img=new Image,img.onload=function(){$("[data-src='"+this.src+"']").css({"background-image":"url("+this.src+")"}),a++,console.log(this.src),a===$(".car-choose").length&&setTimeout(changeCar,tpsChangeCar)},img.src=$(".car-choose").eq(s).data("src");$(".imgLiquidFill").imgLiquid(),$("a.btn-menu-responsive").click(function(){return $("body").toggleClass("menu-mobile-open"),!1}),$(".btn-slider-citation").click(function(){var e=$(this).parents(".wrapper-slider-citation");return TweenMax.isTweening($("ul > li",e))||($(this).hasClass("btn-left")?(1==nbCurrentSlideTemoignage?nbCurrentSlideTemoignage=$("ul > li",e).length:nbCurrentSlideTemoignage--,animatePrevCitation(nbCurrentSlideTemoignage,e)):$(this).hasClass("btn-right")&&(nbCurrentSlideTemoignage==$("ul > li",e).length?nbCurrentSlideTemoignage=1:nbCurrentSlideTemoignage++,animateNextCitation(nbCurrentSlideTemoignage,e))),!1}),$(".zone-left-survol-out").hover(function(){var a=$(this).parents(".wrapper-choose");$(this).parents(".wrapper-choose").hasClass("survol-out-left")||(a.addClass("survol-out-left"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")}))},function(){var a=$(this).parents(".wrapper-choose");a.removeClass("survol-out-left"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")})}),$(".zone-right-survol-out").hover(function(){var a=$(this).parents(".wrapper-choose");a.hasClass("survol-out-right")||(a.addClass("survol-out-right"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")}))},function(){var a=$(this).parents(".wrapper-choose");a.removeClass("survol-out-right"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")})}),$(".wrapper-zone-left-choose").hover(function(){var a=$(this).parents(".wrapper-choose");$(this).parents(".wrapper-choose").hasClass("survol-left")||(a.addClass("survol-left"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")}))},function(){var a=$(this).parents(".wrapper-choose");a.removeClass("survol-left"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")})}),$(".wrapper-zone-right-choose").hover(function(){var a=$(this).parents(".wrapper-choose");a.hasClass("survol-right")||(a.addClass("survol-right"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")}))},function(){var a=$(this).parents(".wrapper-choose");a.removeClass("survol-right"),a.addClass("animated"),$(".car-choose").one(e,function(e){a.removeClass("animated")})})});